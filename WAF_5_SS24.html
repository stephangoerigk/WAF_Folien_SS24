<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Einheit 5</title>
    <meta charset="utf-8" />
    <meta name="author" content="Prof. Dr. Stephan Goerigk" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/remark-css/hygge.css" rel="stylesheet" />
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <script src="libs/fabric/fabric.min.js"></script>
    <link href="libs/xaringanExtra-scribble/scribble.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-scribble/scribble.js"></script>
    <script>document.addEventListener('DOMContentLoaded', function() { window.xeScribble = new Scribble({"pen_color":["#EE0071"],"pen_size":4,"eraser_size":40,"palette":[]}) })</script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">




name: Title slide
class: middle, left
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
# Wissenschaftliches Arbeiten und Forschungsmethoden
***
### Einheit 5: Analyseplan
##### 15.05.2024 | Prof. Dr. Stephan Goerigk


---
class: top, left
name: formr

### formr

* https://workshops.formr.org/

* Email: cfh.formr@gmail.com

* PW: cfh_formr24*

---
class: top, left
name: fortschritt

### Zwischenstand: Was sollte da sein?

Folgende Aspekte sollten **abgeschlossen** sein, damit Sie gut in der Zeit sind:

**1) Forschungsfrage** formuliert und in **Feld I2** der Präregistrierung eingetragen

**2) Hypothese(n)** formuliert und in **Feld I3** eingetragen

**3) erste Literatur** gefunden, die sich dazu eignen Forschungsfrage und Hypothese herzuleiten (kann mehr oder weniger ausführlich in **Feld I1** eingetragen sein `\(\rightarrow\)` Literatur kann später auch noch ergänzt werden, weitere Literaturrecherche immer gut)

&lt;br&gt;

**4a) Grundlegendes Studiendesign** (korrelativ, quasi-experimentell, experimentell) festgelegt, ggf. spezifiziert (z.B. was für ein experimentelles Design?) und in **Feld M10** eingetragen

**4b) Falls experimentelles Design, Art der Randomisierung** festgelegt (z.B. über formr) und in **Feld M11** eingetragen (falls kein experimentelles Design -&gt; "-" in das Feld eintragen)

**5) Festgelegt ob VP über bestimmte Aspekte in Unkenntnis gelassen werden** und in **Feld M6** eingetragen

**6) Groben Ablauf** der Studie festgelegt und in **Feld M14** eingetragen

---
class: top, left

### Zwischenstand: Was sollte da sein?

Folgende Aspekte sollten **zumindest angefangen** sein, damit Sie gut in der Zeit sind:

**7a) Operationalisierung** für benötigte Variablen festgelegt (z.B. konkrete Fragebögen) und in **Feld M12** eingetragen

**7b) ggf. benötigte Umkodierungen von Items und Art der Skalenbildung** in **Feld AP2** eingetragen

**7c) ggf. Berechnung der Reliabilität** im **Feld AP3** von der Vorlage übersetzt, falls restliche Präregistrierung auf Deutsch

**8) Material** (z.B. Quellen für Fragebögen, Instruktionen, Videos, Lieder) festgelegt und in **Feld M13** eingetragen

&lt;br&gt;

**9a) formr** Vorlage angeschaut, umbenannt, hochgeladen, getestet, einem run hinzugefügt

**9b) formr** Vorlage bearbeitet (z.B. mal versucht ein Item hinzuzufügen), wieder neu hochgeladen und getestet

---
class: top, left
name: analyse

### Analyseplan

#### Analyseplan im Forschungsprozess

.pull-left[
**Was gehört zur Studienplanung?**

1. Theoriearbeit und Literaturrecherche `\(\rightarrow\)` Einheit 2 und 3

2. Hypothesenformulierung `\(\rightarrow\)` vorletzte Sitzung

3. Design Plan `\(\rightarrow\)` vorletzte Sitzung

4. Variablen (Auswahl Messinstrumente und Variablenrollen)  `\(\rightarrow\)` letzte Sitzung

5. Statistischer Analyseplan  `\(\rightarrow\)` heutige Sitzung

6. Sampling plan (Rekrutierungsplan) `\(\rightarrow\)` nächste Sitzung

`\(\rightarrow\)` Studienplanung in **Präregistrierung** festhalten
]

.pull-right[
&lt;img src="bilder/Forschungsprozess_Prereg.png" width="100%" style="display: block; margin: auto;" /&gt;
] 

---
class: top, left

&lt;div class="footer"&gt;&lt;span&gt;Van't Veer, A. E., &amp; Giner-Sorolla, R. (2016). Pre-registration in social psychology—A discussion and suggested template. Journal of experimental social psychology, 67, 2-12.&lt;/span&gt;&lt;/div&gt;

### Analyseplan

#### Wichtige Elemente

&lt;small&gt;

* **Weitere Datenvorverarbeitung** (z.B. *z*-Standardisierung, ggf. nötige Bildung von Differenzen zwischen Messungen, bei Manipulationen Umgang mit Manipulationschecks, Umgang mit Ausreißern oder fehlenden Daten): In welcher Weise sollen die Daten verarbeitet und bereinigt werden, bevor sie in die Analyse eingehen?

* Für jede Hypothese (konfirmatorisch):
  - **Geplantes statistisches Verfahren** (z.B. t-Test für unabhängige/abhängige Stichproben, Regressionsanalyse, Varianzanalyse)
  - **Rolle der Variablen** für dieses konkrete Verfahren (Unabhängige Variable, Abhängige Variable, Drittvariable (Kovariate), Moderator/Mediator? `\(\rightarrow\)` siehe [Zusatzmaterial Z3](https://studynet.hs-fresenius.de/ilias.php?baseClass=ilrepositorygui&amp;cmd=sendfile&amp;ref_id=28944) zur Erklärung der unterschiedlichen Variablenrollen)
  - falls zutreffend: **Rationale jeder Kovariate**
  - **Inferenzkriterien** (z.B. Alpha-Niveau und Vorzeichen eines bestimmten Koeffizienten)
  - Festlegung von zu berechnenden **Effektstärken**

* **Korrekturmethoden bei multiplen Tests** (um alpha-Fehler Kumulierung zu vermeiden), z.B. Bonferroni-Korrektur des Alpha-Niveaus wenn selbe Hypothese für verschiedene AVs getestet wird


```r
p.adjust(pwerte, method = "bonferroni")
```


---
class: top, left

### Analyseplan

#### Optionale Elemente

* ggf. Pläne für alternative Analysen, z.B. wenn Modellannahmen abgelehnt werden

* ggf. Statistiksoftware
  - Welche Software ist für die geplanten Analysen geeignet und zugänglich (R ist für viele Analysen ausreichend, aber für tlws. komplexe Analysen (siehe Master) weitere Software nötig, z.B. MPlus)
  
  - Mit welchen Programmbefehlen/-paketen können die gewünschten Analysen ausgeführt werden, welche Zusatzoptionen sind wichtig (nur grob darstellen)?

---
class: top, left

### Analyseplan

#### Weitere Datenvorverarbeitung

&lt;small&gt;

* **z-Standardisierung**: Transformation des Mittelwerts auf 0 und Standardabweichung auf 1 `\(\rightarrow\)` macht oft bei Regressionen Sinn, wenn Originaleinheit der Variablen nicht eingängig (z.B. oft bei Summenwerten)


```r
data$variable_z = scale(data$variable)
```

* **ggf. nötige Bildung von Differenzen zwischen Messungen**: z.B. für Interventionsthema Differenzbildung zwischen Post- und Prä-Messung, um Veränderung abzubilden


```r
data$veraenderung = data$variable_zeitpunkt1 - data$variable_zeitpunkt2
```

* **bei Manipulationen Umgang mit Manipulationschecks**: z.B. wenn beim Intervention nicht richtig erfolgt, gehen Personen dann trotzdem in die Analyse ein?

* **Umgang mit Ausreißern**: unüberlegter Ausschluss von Ausreißern wird in der Literatur kritisch diskutiert, da auch Extremwerte Teil einer Normalverteilung sind; zumindest Einfluss auf die Ergebnisse sollte diskutiert werden

---
class: top, left

### Analyseplan

####  Missing-Data (unvollständige Datensätze)
&lt;small&gt;

**Umgang mit fehlenden Werten:**

1. Ignorieren
  * Manche statistischen Tests können gut mit fehlenden Werten umgehen (z.B. einige Regressionsmodelle)
  * Sollte immer berichtet und bei der Interpretation berücksichtigt werden

2. Complete-Case Analyse
  * Nur auf Basis vollständiger Datensätze rechnen
  * ok, wenn man ausreichend große Stichprobe hat
  * Vorsicht: wenn UV zu Dropout führt können Verzerrungen resultieren

3. Imputation
  * Schätzung und Ersetzen der fehlenden Werte anhand eines statistischen Modells
  * gut unter bestimmten Annahmen
  * Unterschiedliche Komplexität der Schätzer
    * leicht: gruppenspezifischer Mittelwert oder Median
    * komplex: z.B. Random Forest Imputation
  * State of the Art: Multiple Imputation (mehrfaches Ersetzen und Hypothesentest auf Durchschnitt der Ersetzungen berechnen)

* Einen ausführlichen Überblick von Missing-Data-Techniken findet man bei Schafer und Graham (2002) bzw. West (2001)

&lt;/small&gt;


---
class: top, left
### Analyseplan

#### Präregistrierung

&lt;img src="bilder/prereg_einheit5.png" width="55%" style="display: block; margin: auto;" /&gt;


---
class: top, left
### Analyseplan

#### Präregistrierung

&lt;img src="bilder/prereg_einheit5_2.png" width="55%" style="display: block; margin: auto;" /&gt;

---
class: top, left
name: beispiel

### Analyseplan

#### Beispielhafte Überlegungen:

&lt;small&gt;

* Wir haben erheben dieselben Variablen vor dem Anhören von verschiedenen Liedern und danach und bilden daraus für jede Variable eine Differenz (Post-Prä)

* Diese Differenz sagen wir vorher (als abhängige Variable) = Veränderung einer bestimmten Variable X

* Unabhängige Variable ist die Experimentalbedingung (welches Lied wurde angehört)

* Frage, die wir damit z.B. beantworten können: Ist die Veränderung in einer Bedingung anders/stärker/schwächer als in der anderen?

* Beispielhypothese: Das bewusste Hören von Lied A verstärkt Variable X stärker als das bewusste Hören von Lied B

.pull-left[
`\(\rightarrow\)` **Weitere Datenvorverarbeitung:** Post-Prä-Differenz der Variable X bilden

`\(\rightarrow\)` **statistische Analyse:** t-test für unabhängige Stichproben mit AV = Post-Prä-Differenz der Variable X und UV = Bedingung (Lied A vs. Lied B)
]

.pull-right[

`\(\rightarrow\)` **Inferenzkriterium:** MW Lied A &gt; MW Lied B, p &lt; alpha = 0.05

`\(\rightarrow\)` **Effektstärke:** Cohen's d

`\(\rightarrow\)` **falls keine Varianzhomogenität: Welch Test**
]

---
class: top, left

### Analyseplan

#### Beispielhafte Überlegungen:

&lt;small&gt;

... wenn man sich nun weitere Einflüsse auf die Stärke des Effekts (d.h. des Unterschieds zwischen den Bedingungen in der Veränderung der Variable) anschauen möchte, muss man Moderationsanalysen in einem Regressionsmodell rechnen:

* Man sagt dann immernoch die Post-Prä-Differenz = die Veränderung der Variable als Outcome vorher

* Prädiktoren sind dann:
  - eine 0/1-Variable, die die Bedingung kodiert (= eine sogenannte Dummy-Variable)
  
  - eine weitere Variable von der man den Einfluss annimmt (= Moderator), z.B. ängstlicher Bindungsstil
  
  - eine Interaktion zwischen der Bedingungsvariable und dem Moderator (= diese Interaktion sagt uns, ob der Moderator den Effekt verändert oder nicht)
  
`\(Differenz\)` ~ `\(Bedingung + Moderator + Bedingung*Moderator\)`

---
class: top, left

### Analyseplan

#### Beispielhafte Überlegungen für das Interventionsthema

&lt;small&gt;

... wenn man sich nun weitere Einflüsse auf die Stärke des Effekts (d.h. des Unterschieds zwischen den Bedingungen in der Veränderung der Variable) anschauen möchte, muss man Moderationsanalysen in einem Regressionsmodell rechnen:

`\(\rightarrow\)` **statistische Analyse:** Lineare Regression mit AV = Post-Prä-Differenz der Variable X und UVs = Haupteffekt Bedingung (Lied A vs. Lied B, dummykodiert), Haupteffekt ängstlicher Bindungsstil, Interaktionseffekt Bedingung x ängstlicher Bindungsstil

`\(\rightarrow\)` **Inferenzkriterium:** Koeffizient des Interaktionseffekts positiv, `\(p_{einseitig}\)` &lt; `\(\alpha\)` = 0.05 (wenn man eine gerichtete Hypothese hat)

Hinweis: einen einseitigen p-Wert bekommen Sie für eine Regression, wenn Sie in dem Output der Regressionsanalyse beim p-Wert vom relevanten Koeffizienten `\(p/2\)` rechnen falls der Effekt in die erwartete Richtung geht und `\(1-(p/2)\)` falls der Effekt in die falsche Richtung geht

`\(\rightarrow\)` **Effektstärke:** standardisiertes `\(\beta\)`

`\(\rightarrow\)` **Voraussetzungen der linearen Regression werden geprüft, aber bei Verletzung nur diskutiert** (keine alternative Berechnung)

---
class: top, left
### Analyseplan

#### Präregistrierung

&lt;img src="bilder/prereg_einheit5_3.png" width="55%" style="display: block; margin: auto;" /&gt;

---
class: top, left
### Analyseplan

#### Präregistrierung

&lt;img src="bilder/prereg_einheit5_4.png" width="55%" style="display: block; margin: auto;" /&gt;


---
class: top, left
### Analyseplan

#### Präregistrierung

&lt;img src="bilder/prereg_einheit5_5.png" width="55%" style="display: block; margin: auto;" /&gt;

---
class: top, left
### Analyseplan

#### Bewertungsschema

&lt;img src="bilder/bewertung_5.png" width="100%" style="display: block; margin: auto;" /&gt;

&lt;!-- --- --&gt;
&lt;!-- class: top, left --&gt;
&lt;!-- &lt;div class="footer"&gt;&lt;span&gt;Lin, W., &amp; Green, D. P. (2016). Standard Operating Procedures: A Safety Net for Pre-Analysis Plans. PS: Political Science &amp; Politics, 49(03), 495–500. http://doi.org/10.1017/S1049096516000810.&lt;/span&gt;&lt;/div&gt; --&gt;

&lt;!-- ### Analyseplan --&gt;

&lt;!-- #### Ausblick: Standard Operating Procedures / Standard Lab Practices --&gt;

---
class: top, left
name: praxis

### Praxis: Analyseplan entwickeln

**Schritt 1:** Wie sieht Ihr Analyseplan für Ihre Hypothese(n) aus?
  * **Welche weitere Datenvorverarbeitung ist nötig**, ist z.B. eine z-Standardisierung geplant oder ein Manipulationscheck geplant und wenn ja, wie wird er ausgewertet?
  * **Welches Testverfahren nutzen Sie?** Welche Rolle spielt die Überprüfung von Annahmen für dieses Testverfahren (*hier z.B. aufnehmen, was Sie in Quantitative Methoden 1/2 für dieses Verfahren gelernt haben*)?
  * Was ist/sind Ihr/e **UV(s)/Prädiktor(en)**? 
    * Auf welche dieser Variablen bezieht sich die Hypothese? 
    * Sind es spezielle Prädiktoren (z.B. Moderatoren? Kontrollvariablen?)
    * Falls zutreffend: Was ist die Begründung für die Aufnahme von Kontrollvariablen?
  * Was ist Ihre **AV**/Ihr **Outcome**?
  * Testen Sie **einseitig oder zweiseitig** (gerichtete vs. ungerichtete Hypothese)?
  * **Auf Basis welches Ergebnisses würden Sie die H0 verwerfen und die H1 annehmen** (z.B. welcher Posthoc-Test, welcher Prädiktor muss mit welchem Vorzeichen auf welchem `\(\alpha\)`-Niveau signifikant sein)?
  * **Abgleich mit der Hypothese:** Prüft das statistische Verfahren die aufgestellte Hypothese? Muss ggf. noch etwas präzisiert werden (z.B. Form der Interaktion, ggf. (auch händische) Visualisierung der Interaktion)? 
  * Welche **Effekstärke** ist für Ihre geplante Analyse interessant?
  * Müssen Sie für **multiples Testen** korrigieren, z.B. weil Sie die gleiche Hypothese für verschiedene Outcomes überprüfen?

---
class: top, left

### Praxis: Analyseplan entwickeln

**Schritt 2:** Erweitern Sie das [Präregistrierungstemplate auf studynet](https://studynet.hs-fresenius.de/goto_STUDYNETHSF_file_27541_download.html) 

* siehe Vorlage für M7-M8, AP1-AP2 `\(\rightarrow\)` ggf. Übersetzen

* AP6-AP8 (AP8 optional, nur wenn Sie was exploratives unter I4 angegeben haben)

* ergänzen Sie bei AP3, wenn Sie z.B. eine z-Standardisierung für eine bestimmte Variable, eine Differenzbildung oder einen Manipulationscheck planen

**Schritte 3a und 3b zu formr von letzter Einheit weitermachen** (d.h. weiter an der Implementierung der Studie in formr arbeiten)

---
class: top, left
name: material

### Material

* **Bewertungsschema**: https://studynet.hs-fresenius.de/ilias.php?baseClass=ilrepositorygui&amp;cmd=sendfile&amp;ref_id=27027

*	**Checkliste Ethik**: https://studynet.hs-fresenius.de/ilias.php?baseClass=ilrepositorygui&amp;cmd=sendfile&amp;ref_id=26580

* **Template Präregistrierung**: https://studynet.hs-fresenius.de/goto_STUDYNETHSF_file_27541_download.html

* **Link zu formr**: https://workshops.formr.org/

* **Folie mit formr-Ressourcen**: Folie 32 in Einheit 4

* **Zusatzmaterial Z3 Variablen:** https://studynet.hs-fresenius.de/ilias.php?baseClass=ilrepositorygui&amp;cmd=sendfile&amp;ref_id=28944
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
